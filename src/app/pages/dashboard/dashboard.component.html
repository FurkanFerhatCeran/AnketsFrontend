<!-- src/app/pages/dashboard/dashboard.component.html -->
<div class="dashboard-container">
  <!-- Modern Toolbar -->
  <mat-toolbar class="mat-elevation-z0">
    <button 
      mat-icon-button 
      (click)="toggleMenu()" 
      aria-label="Toggle menu"
      class="menu-toggle">
      <mat-icon>menu</mat-icon>
    </button>
    
    <span class="app-title">Ankets</span>
    
    <span class="spacer"></span>
    
    <!-- HÄ±zlÄ± EriÅŸim ButonlarÄ± -->
    <div class="quick-actions">
      <button 
        mat-icon-button 
        matTooltip="Yeni Anket OluÅŸtur" 
        (click)="quickAction('new-survey')" 
        aria-label="New survey"
        class="action-btn">
        <mat-icon>add_circle_outline</mat-icon>
      </button>
      
      <button 
        mat-icon-button 
        matTooltip="Bildirimler" 
        (click)="quickAction('notifications')" 
        aria-label="Notifications"
        class="action-btn">
        <mat-icon 
          [matBadge]="notificationCount > 0 ? notificationCount : null" 
          matBadgeColor="warn" 
          matBadgeSize="small">
          notifications_none
        </mat-icon>
      </button>
      
      <button 
        mat-icon-button 
        matTooltip="Arama" 
        (click)="quickAction('search')" 
        aria-label="Search"
        class="action-btn">
        <mat-icon>search</mat-icon>
      </button>
    </div>
    
    <!-- ðŸ”¥ KullanÄ±cÄ± MenÃ¼sÃ¼ - Backend data yapÄ±sÄ±na gÃ¶re gÃ¼ncellendi -->
    <div class="user-menu" [matMenuTriggerFor]="profileMenu" aria-label="User menu">
      <div class="user-avatar" [matTooltip]="getUserDisplayName()">
        {{ getInitials() }}
      </div>
      <span class="user-name">{{ getUserDisplayName() }}</span>
      <mat-icon class="dropdown-icon">keyboard_arrow_down</mat-icon>
    </div>
    
    <!-- ðŸ”¥ Profil Dropdown MenÃ¼sÃ¼ - Backend data yapÄ±sÄ±na gÃ¶re gÃ¼ncellendi -->
    <mat-menu #profileMenu="matMenu" class="profile-menu">
      <div class="profile-header">
        <div class="profile-avatar">{{ getInitials() }}</div>
        <div class="profile-info">
          <div class="profile-name">{{ getUserDisplayName() }}</div>
          <div class="profile-email">{{ getUserEmail() }}</div>
        </div>
      </div>
      
      <mat-divider></mat-divider>
      
      <button mat-menu-item (click)="router.navigate(['/profile'])">
        <mat-icon>account_circle</mat-icon>
        <span>Profilim</span>
      </button>
      
      <button mat-menu-item (click)="router.navigate(['/settings'])">
        <mat-icon>settings</mat-icon>
        <span>Ayarlar</span>
      </button>
      
      <button mat-menu-item (click)="quickAction('help')">
        <mat-icon>help_outline</mat-icon>
        <span>YardÄ±m</span>
      </button>
      
      <mat-divider></mat-divider>
      
      <button mat-menu-item (click)="logout()" class="logout-item">
        <mat-icon>logout</mat-icon>
        <span>Ã‡Ä±kÄ±ÅŸ Yap</span>
      </button>
    </mat-menu>
  </mat-toolbar>

  <!-- Ana Ä°Ã§erik AlanÄ± -->
  <div class="dashboard-content">
    <mat-sidenav-container class="sidenav-container">
      <!-- Sidebar Navigation -->
      <mat-sidenav 
        #sidenav
        [(opened)]="isMenuOpen"
        [mode]="(isHandset$ | async) ? 'over' : 'side'"
        [fixedInViewport]="isHandset$ | async"
        [fixedTopGap]="72"
        class="modern-sidenav">
        
        <mat-nav-list class="navigation-list">
          <!-- Ana menÃ¼ Ã¶ÄŸeleri -->
          <a mat-list-item
             *ngFor="let item of menuItems"
             [routerLink]="item.route"
             routerLinkActive="active"
             [routerLinkActiveOptions]="{exact: item.exact || false}"
             class="nav-item"
             [matTooltip]="item.name"
             matTooltipPosition="right">
            
            <mat-icon class="menu-icon">{{ item.icon }}</mat-icon>
            <span class="menu-text">{{ item.name }}</span>
            
            <!-- Badge gÃ¶sterimi -->
            <span *ngIf="item.badge && item.badge > 0" class="badge">
              {{ item.badge }}
            </span>
            
            <!-- Aktif Ã¶ÄŸe iÃ§in ok iÅŸareti -->
            <mat-icon *ngIf="router.url === item.route" class="active-indicator">
              chevron_right
            </mat-icon>
          </a>
          
          <!-- Alt menÃ¼ bÃ¶lÃ¼mÃ¼ -->
          <mat-divider class="menu-divider"></mat-divider>
          
          <h3 class="menu-section-title">DiÄŸer</h3>
          
          <a mat-list-item 
             routerLink="/help" 
             routerLinkActive="active" 
             class="nav-item">
            <mat-icon class="menu-icon">help_outline</mat-icon>
            <span class="menu-text">YardÄ±m</span>
          </a>
          
          <a mat-list-item 
             routerLink="/feedback" 
             routerLinkActive="active" 
             class="nav-item">
            <mat-icon class="menu-icon">feedback</mat-icon>
            <span class="menu-text">Geri Bildirim</span>
          </a>
        </mat-nav-list>
        
        <!-- Sidebar Alt KÄ±sÄ±m -->
        <div class="sidebar-footer">
          <div class="app-version">
            <mat-icon>info_outline</mat-icon>
            <span>v2.1.0</span>
          </div>
        </div>
      </mat-sidenav>

      <!-- Ana Ä°Ã§erik -->
      <mat-sidenav-content class="main-content">
        <div class="content-wrapper">
          <!-- Sayfa baÅŸlÄ±ÄŸÄ± ve breadcrumb -->
          <div class="page-header" *ngIf="getCurrentPageTitle()">
            <h1 class="page-title">{{ getCurrentPageTitle() }}</h1>
            <div class="page-breadcrumb">
              <span>Anasayfa</span>
              <mat-icon>chevron_right</mat-icon>
              <span>{{ getCurrentPageTitle() }}</span>
            </div>
          </div>
          
          <!-- Router outlet - Ä°Ã§erik buraya yÃ¼klenir -->
          <div class="page-content">
            <router-outlet></router-outlet>
          </div>
        </div>
      </mat-sidenav-content>
    </mat-sidenav-container>
  </div>
</div>