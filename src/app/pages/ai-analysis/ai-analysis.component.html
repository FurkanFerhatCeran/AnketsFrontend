<div class="ai-analysis-container">
  <h2 class="title">ğŸ“Š Yapay Zeka Anket Analizi</h2>
  <p class="description">
    Anket verilerinizi yapay zeka ile analiz edin, iÃ§gÃ¶rÃ¼ kazanÄ±n ve detaylÄ± raporlar alÄ±n.
  </p>

  <!-- Anket SeÃ§imi -->
  <div class="survey-selection">
    <mat-form-field appearance="outline" class="survey-select">
      <mat-label>Analiz iÃ§in anket seÃ§in</mat-label>
      <mat-select [(ngModel)]="selectedSurveyId" (selectionChange)="onSelectSurvey($event.value)">
        <mat-option *ngFor="let survey of surveys" [value]="survey.surveyId">
          {{ survey.title }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <!-- Loading -->
  <div *ngIf="isLoading" class="loading-spinner">
    <mat-progress-spinner mode="indeterminate" diameter="60"></mat-progress-spinner>
    <p>Analiz oluÅŸturuluyor, lÃ¼tfen bekleyin...</p>
  </div>

  <!-- Hata MesajÄ± -->
  <mat-card *ngIf="errorMessage" class="error-card">
    <mat-icon color="warn">error_outline</mat-icon>
    <span>{{ errorMessage }}</span>
  </mat-card>

  <!-- Analiz Sonucu -->
  <div *ngIf="aiAnalysisResult" class="analysis-results">
    <h3>ğŸ“‘ Analiz Ã–zeti</h3>
    <mat-card class="result-card">
      <h4>Yapay Zeka Analiz SonuÃ§larÄ±</h4>
      <div class="result-content">
        <pre>{{ aiAnalysisResult.aiResponse }}</pre>
      </div>
    </mat-card>
  </div>
</div>
